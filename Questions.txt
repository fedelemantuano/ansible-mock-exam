Ansible Sample Exam for EX407

# Requirements

You will need five RHEL 7 (or CentOS 7) virtual machines to be able to successfully complete all questions.
One VM will be configured as an Ansible control node. Other four VMs will be used to apply playbooks to solve the sample exam questions. The following FQDNs will be used throughout the sample exam.

## Control and Managed Nodes:
```
ansible-control.hl.local – Ansible control node
ansible2.hl.local – managed host
ansible3.hl.local – managed host
ansible4.hl.local – managed host
ansible5.hl.local – managed host
```
There are a couple of requiremens that should be met before proceeding further:

ansible-control.hl.local server has passwordless SSH access to all managed servers (using the root user).
ansible5.hl.local server has a 1GB secondary /dev/sdb disk attached.
There are no regular users created on any of the servers.

# Tips and Suggestions:

I tried to cover as many exam objectives as possible, however, note that there will be no questions related to dynamic inventory.
Some questions may depend on the outcome of others. Please read all questions before proceeding.

# Sample Exam Questions:
Note: you have root access to all five servers.

## Question 1:
Ansible Installation and Configuration -

Install ansible package on the control node (including any dependencies) and configure the following:
Create a regular user automation with the password of devops. Use this user for all sample exam tasks.
All playbooks and other Ansible configuration that you create for this sample exam should be stored in /home/automation/plays.
Create a configuration file /home/automation/plays/ansible.cfg to meet the following requirements:
The roles path should include /home/automation/plays/roles, as well as any other path that may be required for the course of the sample exam.
The inventory file path is /home/automation/plays/inventory.
Privilege escallation is disabled by default.
Ansible should be able to manage 10 hosts at a single time.
Ansible should connect to all managed nodes using the automation user.
Create an inventory file /home/automation/plays/inventory with the following:
ansible2.hl.local is a member of the proxy host group.
ansible3.hl.local is a member of the webservers host group.
ansible4.hl.local is a member of the webservers host group.
ansible5.hl.local is a member of the database host group.

## Question 2:

Ad-Hoc Commands -

Generate an SSH keypair on the control node. You can perform this step manually.
Write a script /home/automation/plays/adhoc that uses Ansible ad-hoc commands to achieve the following:
User automation is created on all inventory hosts.
SSH key (that you generated) is copied to all inventory hosts for the automation user and stored in /home/automation/.ssh/authorized_keys.
The automation user is allowed to elevate privileges on all inventory hosts without having to provide a password.
After running the adhoc script, you should be able to SSH into all inventory hosts using the automation user without password, as well as a run all privileged commands.


